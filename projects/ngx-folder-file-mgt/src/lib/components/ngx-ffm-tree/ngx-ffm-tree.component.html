<!-- åŸºäºŽæ‰å¹³æ•°æ®æ¸²æŸ“æ ‘å½¢ç»“æž„ -->
@for (node of viewTree; track node.id) {
  <!-- åªæ¸²æŸ“å¯è§èŠ‚ç‚¹ -->
  @if (isNodeVisible(node)) {
    <div class="node-item" [style.paddingLeft.px]="node.depth * 20">
      @if (node.type === 'folder') {
        <ng-container *ngTemplateOutlet="folderNodeTpl; context: { $implicit: node }"></ng-container>
      } @else {
        <ng-container *ngTemplateOutlet="fileNodeTpl; context: { $implicit: node }"></ng-container>
      }
    </div>
  }
}

<!-- æ–‡ä»¶å¤¹æ¨¡æ¿ -->
<ng-template #folderNodeTpl let-node>
  <li (click)="clickFolder(node)" class="folder">
    <i>{{ node.expanded ? 'â–¾' : 'â–¸' }}</i>
    <span [class.selected]="node.selected">{{ node.name }}</span>
  </li>
</ng-template>

<!-- æ–‡ä»¶æ¨¡æ¿ -->
<ng-template #fileNodeTpl let-node>
  <li (click)="clickFile(node)" class="file" [class.selected]="node.selected">
    <i>ðŸ“„</i>
    <span>{{ node.name }}</span>
  </li>
</ng-template>